{"ast":null,"code":"var _jsxFileName = \"/Users/farisaziz/Desktop/Projecs/Cortrack/cortrack_frontend/src/Components/Homepage.js\";\nimport React, { Component } from \"react\";\nimport \"./Homepage.css\";\nimport { Link } from \"react-router-dom\"; // import * as data from \"../data/countries.geojson\";\n\nexport default class Homepage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      latestNews: [],\n      newsForCurrentCountry: [],\n      currentCountry: null,\n      currentCountryCaseData: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(`https://gnews.io/api/v3/search?q=coronavirus%20news&token=6385a60f5d387a9bf5fd4f8d033f4168`).then(response => response.json()).then(news => this.setState({\n      latestNews: news.articles && news.articles\n    })).catch(err => {\n      console.log(err);\n    });\n    fetch(\"https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php\", {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"36d86838d4mshba08a92dbba7104p1ae352jsnf92cd7cb9983\"\n      }\n    }).then(response => response.json()).then(data => this.setState({\n      caseData: data.countries_stat\n    })).catch(err => {\n      console.log(err);\n    });\n    fetch(\"http://ip-api.com/json\").then(resp => resp.json()).then(resp => fetch(`https://gnews.io/api/v3/search?q=${resp.country}%20coronavirus%20news&token=6385a60f5d387a9bf5fd4f8d033f4168`).then(response => response.json()).then(news => this.setState({\n      newsForCurrentCountry: news.articles,\n      currentCountry: resp.country\n    })).catch(err => {\n      console.log(err);\n    }));\n  }\n\n  render() {\n    const sortedNews = this.state.latestNews && this.state.latestNews[0] ? this.state.latestNews.sort((a, b) => {\n      return new Date(b.publishedAt) - new Date(a.publishedAt);\n    }) : undefined;\n    const top5News = sortedNews ? sortedNews.slice(0, 5) : undefined;\n    const {\n      currentCountry,\n      caseData,\n      newsForCurrentCountry\n    } = this.state;\n    const currentCountryCaseData = caseData[0] && currentCountry ? caseData.filter(Ccase => Ccase.country_name === currentCountry) : undefined;\n    console.log(currentCountryCaseData);\n    const currentCountrySortedNews = newsForCurrentCountry && newsForCurrentCountry[0] ? newsForCurrentCountry.sort((a, b) => {\n      return new Date(b.publishedAt) - new Date(a.publishedAt);\n    }) : undefined;\n    const filteredNews = currentCountrySortedNews && currentCountrySortedNews.filter(article => article.title.includes(currentCountry));\n    const top3News = filteredNews ? filteredNews.slice(0, 3) : undefined;\n    return React.createElement(\"div\", {\n      className: \"div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"CorTrack\"), React.createElement(Link, {\n      to: \"/map\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"nav-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Map\")), React.createElement(Link, {\n      to: \"/case-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"nav-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Cases Info\")), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, currentCountry && currentCountryCaseData[0] && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"case-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Current Country: \", currentCountryCaseData[0].country_name), React.createElement(\"h2\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Cases: \", currentCountryCaseData[0].cases), React.createElement(\"h2\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Deaths: \", currentCountryCaseData[0].deaths), React.createElement(\"h2\", {\n      className: \"new-case-txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"New Cases: \", currentCountryCaseData[0].new_cases), React.createElement(\"h2\", {\n      className: \"new-death-txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"New Deaths: \", currentCountryCaseData[0].new_deaths), React.createElement(\"h2\", {\n      className: \"recover-txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Total Recovered: \", currentCountryCaseData[0].total_recovered), React.createElement(\"h3\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Percent of infected who have died: \", (parseFloat(currentCountryCaseData[0].deaths.replace(/,/g, '')) / parseFloat(currentCountryCaseData[0].cases.replace(/,/g, '')) * 100).toFixed(2) + \"%\"), React.createElement(\"h3\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Percent of infected who have recovered: \", (parseFloat(currentCountryCaseData[0].total_recovered.replace(/,/g, '')) / parseFloat(currentCountryCaseData[0].cases.replace(/,/g, '')) * 100).toFixed(2) + \"%\")), React.createElement(\"div\", {\n      className: \"case-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, currentCountryCaseData[0].country_name, \"'s Latest News:\"), !top3News ? React.createElement(\"h2\", {\n      className: \"txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"None\") : undefined, top3News && top3News.map(article => React.createElement(\"h3\", {\n      className: \"news-txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"news-txt\",\n      href: article.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, article.title)))), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), this.state.latestNews && this.state.latestNews[0] && React.createElement(\"h1\", {\n      className: \"h1 news-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Latest Global News\")), React.createElement(\"div\", {\n      className: \"latest-news\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, top5News && top5News.map(newsPiece => React.createElement(\"h3\", {\n      className: \"news-txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"news-txt\",\n      href: newsPiece.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, newsPiece.title)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/farisaziz/Desktop/Projecs/Cortrack/cortrack_frontend/src/Components/Homepage.js"],"names":["React","Component","Link","Homepage","state","latestNews","newsForCurrentCountry","currentCountry","currentCountryCaseData","componentDidMount","fetch","then","response","json","news","setState","articles","catch","err","console","log","data","caseData","countries_stat","resp","country","render","sortedNews","sort","a","b","Date","publishedAt","undefined","top5News","slice","filter","Ccase","country_name","currentCountrySortedNews","filteredNews","article","title","includes","top3News","cases","deaths","new_cases","new_deaths","total_recovered","parseFloat","replace","toFixed","map","url","newsPiece"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Homepage.css\";\nimport { Link } from \"react-router-dom\";\n// import * as data from \"../data/countries.geojson\";\n\n\nexport default class Homepage extends Component {\n\n    state = {\n        latestNews: [], \n        newsForCurrentCountry: [],\n        currentCountry: null,\n        currentCountryCaseData: []\n    }\n\n\n    componentDidMount(){\n        fetch(`https://gnews.io/api/v3/search?q=coronavirus%20news&token=6385a60f5d387a9bf5fd4f8d033f4168`)\n            .then(response => response.json()).then(news => \n                this.setState({latestNews: news.articles&& news.articles\n            }))\n            .catch(err => {\n                console.log(err);\n            });\n\n        fetch(\"https://coronavirus-monitor.p.rapidapi.com/coronavirus/cases_by_country.php\", {\n            \"method\": \"GET\",\n            \"headers\": {\n                \"x-rapidapi-host\": \"coronavirus-monitor.p.rapidapi.com\",\n                \"x-rapidapi-key\": \"36d86838d4mshba08a92dbba7104p1ae352jsnf92cd7cb9983\"\n            }\n        })\n        .then(response => response.json()).then(data => \n            this.setState({caseData: data.countries_stat\n            }))\n        .catch(err => {\n        console.log(err);\n        })\n\n\n        fetch(\"http://ip-api.com/json\").then(resp => resp.json()).then(resp => \n        fetch(`https://gnews.io/api/v3/search?q=${resp.country}%20coronavirus%20news&token=6385a60f5d387a9bf5fd4f8d033f4168`)\n            .then(response => response.json()).then(news => \n                this.setState({newsForCurrentCountry: news.articles, currentCountry: resp.country\n            }))\n            .catch(err => {\n                console.log(err);\n            })\n        )\n    }\n\n  render() {\n    const sortedNews  = this.state.latestNews&& this.state.latestNews[0]? this.state.latestNews.sort((a,b) => {\n        return new Date(b.publishedAt) - new Date(a.publishedAt);\n    }):\n    undefined\n\n    const top5News = sortedNews? sortedNews.slice(0, 5) : undefined\n    const { currentCountry, caseData, newsForCurrentCountry } = this.state\n    const currentCountryCaseData = caseData[0]&& currentCountry? caseData.filter(Ccase => Ccase.country_name === currentCountry) : undefined\n    console.log(currentCountryCaseData)\n    const currentCountrySortedNews = \n        newsForCurrentCountry&& newsForCurrentCountry[0]? newsForCurrentCountry.sort((a,b) => {\n            return new Date(b.publishedAt) - new Date(a.publishedAt);\n          }) \n          : \n        undefined\n        \n    const filteredNews = currentCountrySortedNews&& currentCountrySortedNews.filter(article => article.title.includes(currentCountry)) \n    const top3News = filteredNews? filteredNews.slice(0, 3) : undefined\n\n    return (\n      <div className=\"div\">\n        <h1 className=\"h1\">CorTrack</h1>\n        <Link to=\"/map\">\n          <button className=\"nav-btn\">Map</button>\n        </Link>\n        <Link to=\"/case-info\">\n          <button className=\"nav-btn\">Cases Info</button>\n        </Link> <br/>\n\n        <div className='result'> \n            {currentCountry && currentCountryCaseData[0]&&\n            <>\n            <div className='case-box'>\n                <h1 className='txt'>Current Country: {currentCountryCaseData[0].country_name}</h1>\n                <h2 className='txt'>Cases: {currentCountryCaseData[0].cases}</h2>\n                <h2 className='txt'>Deaths: {currentCountryCaseData[0].deaths}</h2>\n                <h2 className='new-case-txt'>New Cases: {currentCountryCaseData[0].new_cases}</h2>\n                <h2 className='new-death-txt'>New Deaths: {currentCountryCaseData[0].new_deaths}</h2>\n                <h2 className='recover-txt'>Total Recovered: {currentCountryCaseData[0].total_recovered}</h2>\n                <h3 className='txt'>Percent of infected who have died: {(parseFloat(currentCountryCaseData[0].deaths.replace(/,/g, ''))/parseFloat(currentCountryCaseData[0].cases.replace(/,/g, '')) * 100).toFixed(2) + \"%\"}</h3>\n                <h3 className='txt'>Percent of infected who have recovered: {(parseFloat(currentCountryCaseData[0].total_recovered.replace(/,/g, ''))/parseFloat(currentCountryCaseData[0].cases.replace(/,/g, '')) * 100).toFixed(2) + \"%\"}</h3>\n            </div>\n            <div className='case-box'>\n              <h1 className='txt'>{currentCountryCaseData[0].country_name}'s Latest News:</h1>\n                {!top3News? <h2 className='txt'>None</h2> : undefined}\n                {top3News&& \n                top3News.map(article => (\n                    <h3 className='news-txt'><a className='news-txt' href={article.url}>{article.title}</a></h3>\n                ))\n                }\n            </div> <br/>\n            </>\n            }\n        </div>\n\n        {this.state.latestNews&& this.state.latestNews[0]&&\n        <h1 className=\"h1 news-title\"><u>Latest Global News</u></h1>\n        }\n        <div className='latest-news'>\n            {top5News&&\n            top5News.map(newsPiece => (\n                <h3 className='news-txt'><a className='news-txt' href={newsPiece.url}>{newsPiece.title}</a></h3>\n            ))}\n        </div>\n        \n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}